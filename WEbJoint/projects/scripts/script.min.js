var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(b){return $jscomp.SYMBOL_PREFIX+(b||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};
var canvas=document.querySelector("canvas.webgl"),scene=new THREE.Scene,objectsDistance=4,material=new THREE.MeshToonMaterial({color:""}),mesh1=new THREE.Mesh(new THREE.TorusGeometry(0,0,0,0),material),mesh2=new THREE.Mesh(new THREE.ConeGeometry(0,0,0),material),mesh3=new THREE.Mesh(new THREE.TorusKnotGeometry(0,0,0,0),material);mesh1.position.y=0*-objectsDistance;mesh2.position.y=1*-objectsDistance;mesh3.position.y=2*-objectsDistance;mesh1.position.x=2;mesh2.position.x=-2;mesh3.position.x=2;
var sectionMeshes=[mesh1,mesh2,mesh3];scene.add();for(var particlesCount=1500,positions=new Float32Array(5*particlesCount),i=0;i<particlesCount;i++)positions[3*i+0]=10*(Math.random()-.5),positions[3*i+1]=.5*objectsDistance-Math.random()*objectsDistance*sectionMeshes.length,positions[3*i+2]=10*(Math.random()-.5);var particlesGeometry=new THREE.BufferGeometry;particlesGeometry.setAttribute("position",new THREE.BufferAttribute(positions,3));
var particlesMaterial=new THREE.PointsMaterial({color:"gray",sizeAttenuation:!0,size:.025}),particles=new THREE.Points(particlesGeometry,particlesMaterial);scene.add(particles);var directionalLight=new THREE.DirectionalLight("#ffffff",1);directionalLight.position.set(1,1,0);scene.add(directionalLight);var sizes={width:window.innerWidth,height:window.innerHeight};
window.addEventListener("resize",function(){sizes.width=window.innerWidth;sizes.height=window.innerHeight;camera.aspect=sizes.width/sizes.height;camera.updateProjectionMatrix();renderer.setSize(sizes.width,sizes.height);renderer.setPixelRatio(Math.min(window.devicePixelRatio,2))});var scrollY=window.scrollY,currentSection=0;
window.addEventListener("scroll",function(){scrollY=window.scrollY;var a=Math.round(scrollY/sizes.height);a!=currentSection&&(currentSection=a,gsap.to(sectionMeshes[currentSection].rotation,{duration:1.5,ease:"power2.inOut",x:"+=6",y:"+=3"}))});var cursor={x:0,y:0};window.addEventListener("mousemove",function(a){cursor.x=a.clientX/sizes.width-.5;cursor.y=a.clientY/sizes.height-.5});var cameraGroup=new THREE.Group;scene.add(cameraGroup);
var camera=new THREE.PerspectiveCamera(35,sizes.width/sizes.height,.1,100);camera.position.z=6;cameraGroup.add(camera);var renderer=new THREE.WebGLRenderer({canvas:canvas,alpha:!0});renderer.setSize(sizes.width,sizes.height);renderer.setPixelRatio(Math.min(window.devicePixelRatio,2));
var clock=new THREE.Clock,previousTime=0,tick=function(){var a=clock.getElapsedTime(),b=a-previousTime;previousTime=a;a=$jscomp.makeIterator(sectionMeshes);for(var c=a.next();!c.done;c=a.next())c=c.value,c.rotation.x+=.1*b,c.rotation.y+=.12*b;camera.position.y=-scrollY/sizes.height*objectsDistance;a=.5*-cursor.y;cameraGroup.position.x+=5*(.5*cursor.x-cameraGroup.position.x)*b;cameraGroup.position.y+=5*(a-cameraGroup.position.y)*b;renderer.render(scene,camera);window.requestAnimationFrame(tick)};tick();
